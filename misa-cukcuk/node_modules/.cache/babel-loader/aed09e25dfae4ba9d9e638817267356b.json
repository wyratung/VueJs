{"remainingRequest":"D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\babel-loader\\lib\\index.js!D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MisaVueJS\\VueJS\\misa-cukcuk\\src\\components\\base\\BaseComboBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MisaVueJS\\VueJS\\misa-cukcuk\\src\\components\\base\\BaseComboBox.vue","mtime":1628431534032},{"path":"D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MisaVueJS\\VueJS\\misa-cukcuk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L01pc2FWdWVKUy9WdWVKUy9taXNhLWN1a2N1ay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCYXNlQ29tYm9ib3giLAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHR5cGVDb21ib2JveDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGxpc3REYXRhOiBbXSwKICAgICAgc2VsZWN0ZWRJdGVtOiAtMQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJnZXQgZGF0YSIpOyAvL2xvYWQgZOG7ryBsaeG7h3UgdsOgIGhp4buDbiB0aOG7iwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiaHR0cDovL2N1a2N1ay5tYW5obnYubmV0L2FwaS9EZXBhcnRtZW50IikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubGlzdERhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHRvZ2dsZUxpc3Q6IGZ1bmN0aW9uIHRvZ2dsZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmlzU2hvdykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5pc1Nob3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldERhdGEoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMyLmlzU2hvdyA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsZWFyQ29tYm9ib3hWYWx1ZTogZnVuY3Rpb24gY2xlYXJDb21ib2JveFZhbHVlKCkgewogICAgICB0aGlzLiRlbWl0KCJjbGVhckNvbWJvYm94VmFsdWUiLCB0aGlzLnR5cGVDb21ib2JveCk7CiAgICB9LAogICAgY2hvb3NlSXRlbTogZnVuY3Rpb24gY2hvb3NlSXRlbShzZWxlY3RlZFZhbHVlLCBpbmRleCkgewogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGluZGV4OwogICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVDb21ib2JveFZhbHVlIiwgdGhpcy50eXBlQ29tYm9ib3gsIHNlbGVjdGVkVmFsdWUpOwogICAgfSwKICAgIGlzU2VsZWN0ZWRJdGVtOiBmdW5jdGlvbiBpc1NlbGVjdGVkSXRlbShpbmRleCkgewogICAgICBjb25zb2xlLmxvZyhpbmRleCA9PSB0aGlzLnNlbGVjdGVkSXRlbSk7CiAgICAgIHJldHVybiBpbmRleCA9PSB0aGlzLnNlbGVjdGVkSXRlbTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKioNCiAgICAgKiBs4bqvbmcgbmdoZSBjw6FjIHPhu7Ega2nhu4duIHThu6sgaW5wdXQNCiAgICAgKi8KICAgIGlucHV0TGlzdGVuZXJzOiBmdW5jdGlvbiBpbnB1dExpc3RlbmVycygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJGxpc3RlbmVycywgewogICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dChldmVudCkgewogICAgICAgICAgdm0uJGVtaXQoImlucHV0IiwgZXZlbnQudGFyZ2V0LnZhbHVlKTsKICAgICAgICB9LAogICAgICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm0uZ2V0RGF0YSgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIHZtLmlzU2hvdyA9IHRydWU7CgogICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICB9KSkoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["BaseComboBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AAPA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,YAAA,EAAA,CAAA;AAHA,KAAA;AAKA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EADA,CAEA;;AAFA;AAAA,uBAGA,KAAA,CACA,GADA,CACA,yCADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,iBAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,iBAPA,CAHA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAZA;AAaA,IAAA,UAbA,wBAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,MADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AAFA;AAAA;;AAAA;AAAA;AAAA,uBAIA,MAAA,CAAA,OAAA,EAJA;;AAAA;AAKA,gBAAA,MAAA,CAAA,MAAA,GAAA,IAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KApBA;AAqBA,IAAA,kBArBA,gCAqBA;AACA,WAAA,KAAA,CAAA,oBAAA,EAAA,KAAA,YAAA;AACA,KAvBA;AAwBA,IAAA,UAxBA,sBAwBA,aAxBA,EAwBA,KAxBA,EAwBA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,qBAAA,EAAA,KAAA,YAAA,EAAA,aAAA;AACA,KA5BA;AA6BA,IAAA,cA7BA,0BA6BA,KA7BA,EA6BA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,KAAA,YAAA;AACA,aAAA,KAAA,IAAA,KAAA,YAAA;AACA;AAhCA,GAvBA;AAyDA,EAAA,QAAA,EAAA;AACA;AACA;AACA;AACA,IAAA,cAJA,4BAIA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,EAAA,eAAA,KAAA,EAAA;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,OAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,SAHA;AAIA,QAAA,KAJA,mBAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACA,EAAA,CAAA,OAAA,EADA;;AAAA;AAEA,oBAAA,EAAA,CAAA,MAAA,GAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAPA,OAAA,CAAA;AASA;AAfA;AAzDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"combobox\" :class=\"{ 'combobox--show': isShow }\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"combobox__input\"\r\n      placeholder=\"Chọn/Nhập thông tin\"\r\n      v-bind=\"$attrs\"\r\n      :value=\"value\"\r\n      v-on=\"inputListeners\"\r\n    />\r\n    <div class=\"combobox__input-cancel\" @click=\"clearComboboxValue\">\r\n      <i class=\"fas fa-times-circle\"></i>\r\n    </div>\r\n    <div class=\"combobox__dropdown\" @click=\"toggleList\">\r\n      <i class=\"fas fa-chevron-down combobox__icon\"></i>\r\n    </div>\r\n    <ul class=\"combobox__list\">\r\n      <li\r\n        v-for=\"(item, index) in listData\"\r\n        :key=\"index\"\r\n        class=\"combobox__item\"\r\n        @click=\"chooseItem(item['DepartmentName'], index)\"\r\n        :class=\"{ active: isSelectedItem(index) }\"\r\n      >\r\n        <i class=\"fas fa-check checkmark\"></i>\r\n        <div class=\"combobox-item-text\">{{ item[\"DepartmentName\"] }}</div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"BaseCombobox\",\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default() {\r\n        return \"\";\r\n      },\r\n    },\r\n    typeCombobox: {\r\n      type: String,\r\n      default() {\r\n        return \"\";\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isShow: false,\r\n      listData: [],\r\n      selectedItem: -1,\r\n    };\r\n  },\r\n  methods: {\r\n    async getData() {\r\n      console.log(\"get data\");\r\n      //load dữ liệu và hiển thị\r\n      await axios\r\n        .get(\"http://cukcuk.manhnv.net/api/Department\")\r\n        .then((response) => {\r\n          this.listData = response.data;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    async toggleList() {\r\n      if (this.isShow) {\r\n        this.isShow = false;\r\n      } else {\r\n        await this.getData();\r\n        this.isShow = true;\r\n      }\r\n    },\r\n    clearComboboxValue() {\r\n      this.$emit(\"clearComboboxValue\", this.typeCombobox);\r\n    },\r\n    chooseItem(selectedValue, index) {\r\n      this.isShow = false;\r\n      this.selectedItem = index;\r\n      this.$emit(\"updateComboboxValue\", this.typeCombobox, selectedValue);\r\n    },\r\n    isSelectedItem(index) {\r\n      console.log(index == this.selectedItem);\r\n      return index == this.selectedItem;\r\n    },\r\n  },\r\n  computed: {\r\n    /**\r\n     * lắng nghe các sự kiện từ input\r\n     */\r\n    inputListeners() {\r\n      var vm = this;\r\n      return Object.assign({}, this.$listeners, {\r\n        input: function (event) {\r\n          vm.$emit(\"input\", event.target.value);\r\n        },\r\n        async focus() {\r\n          await vm.getData();\r\n          vm.isShow = true;\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../../css/common/combobox.css\");\r\n</style>"],"sourceRoot":"src/components/base"}]}