{"remainingRequest":"D:\\MisaVueJS\\VueJs\\misa-cukcuk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MisaVueJS\\VueJs\\misa-cukcuk\\src\\components\\base\\BaseTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MisaVueJS\\VueJs\\misa-cukcuk\\src\\components\\base\\BaseTable.vue","mtime":1628750743431},{"path":"D:\\MisaVueJS\\VueJs\\misa-cukcuk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MisaVueJS\\VueJs\\misa-cukcuk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MisaVueJS\\VueJs\\misa-cukcuk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MisaVueJS\\VueJs\\misa-cukcuk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IENvbW1vbk1ldGhvZHMgZnJvbSAiLi4vLi4vbWl4aW5zL0NvbW1vbk1ldGhvZHMuanMiOw0KaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICIuLi8uLi9tYWluLmpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkJhc2VUYWJsZSIsDQogIG1peGluczogW0NvbW1vbk1ldGhvZHNdLA0KICBwcm9wczogew0KICAgIHVybEFQSTogU3RyaW5nLA0KICAgIHRhYmxlSGVhZGVyczogQXJyYXksDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdmFyIHZtID0gdGhpczsNCiAgICBheGlvcw0KICAgICAgLmdldCh0aGlzLnVybEFQSSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gKHZtLnRhYmxlQ29udGVudHMgPSByZXNwb25zZS5kYXRhKSkNCiAgICAgIC5jYXRjaCgocmVzcG9uc2UpID0+IGNvbnNvbGUubG9nKHJlc3BvbnNlKSk7DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYmxlQ29udGVudHM6IFtdLA0KICAgICAgaXNBY3RpdmU6IGZhbHNlLA0KICAgICAgbGlzdFNlbGVjdGVkUm93OiBbXSwNCiAgICAgIGxpc3RTZWxlY3RlZEVtcGxveWVlczogW10sDQogICAgICBkZWxheTogMzAwLA0KICAgICAgY2xpY2tzOiAwLA0KICAgICAgdGltZXI6IG51bGwsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKg0KICAgICAqIHjDoWMgxJHhu4tuaCB4ZW0gbmfGsOG7nWkgZMO5bmcgY2xpY2sgaGF5IGRvdWJsZSBjbGljayB2w6BvIMSRw7JuZyB0csOqbiBi4bqjbmcNCiAgICAgKkBwYXJhbSB7SW50fSBpbmRleDogY2jhu4kgc+G7lSBj4bunYSBkw7JuZyB0cm9uZyBi4bqjbmcNCiAgICAgDQogICAgICovDQogICAgb25lQ2xpY2soaW5kZXgpIHsNCiAgICAgIHZhciBzZWxmID0gdGhpczsNCiAgICAgIHRoaXMuY2xpY2tzKys7DQogICAgICBpZiAodGhpcy5jbGlja3MgPT09IDEpIHsNCiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgIHNlbGYuY2hvb3NlVGFibGVSb3coaW5kZXgpOw0KICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJzaG93U2VsZWN0ZWRFbXBsb3llZXMiLCBzZWxmLmxpc3RTZWxlY3RlZEVtcGxveWVlcyk7DQogICAgICAgICAgc2VsZi5jbGlja3MgPSAwOw0KICAgICAgICB9LCB0aGlzLmRlbGF5KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsNCiAgICAgICAgdGhpcy5jbGlja3MgPSAwOw0KICAgICAgICAvL3Nob3cgZm9ybSBzdGFmZg0KICAgICAgICBzZWxmLmVkaXRFbXBsb3llZSggc2VsZi50YWJsZUNvbnRlbnRzW2luZGV4XSk7DQogICAgICAgIA0KICAgICAgfQ0KICAgIH0sDQogICAgLyoqDQogICAgICogQHBhcmFtIHt9ICBzZWxmOiBjb21wb25lbnQgaGnhu4duIHThuqFpDQogICAgICogQHBhcmFtIHtPYmplY3R9IGVtcGxveWVlRGF0YSBjaOG7qWEgZOG7ryBsaeG7h3UgbmjDom4gdmnDqm4NCiAgICAgKi8NCiAgICBlZGl0RW1wbG95ZWUoIGVtcGxveWVlRGF0YSkgew0KICAgICAgdGhpcy4kZW1pdCgiZWRpdEVtcGxveWVlIiwgZW1wbG95ZWVEYXRhKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIMSR4buLbmggZOG6oW5nIGThu68gbGnhu4d1IHRyb25nIMO0IGPhu6dhIHRhYmxlIGLDqm4gdHLDoWksIGdp4buvYSBoYXkgcGjhuqNpDQogICAgICogIEBwYXJhbSB7SW50fSBpbmRleCA6IGNo4buJIHPhu5Eg4bupbmcgduG7m2kgaGVhZGVyIGPhu6dhIHRhYmxlDQogICAgICogIHJldHVybiBjaHXhu5dpIGNsYXNzIMSR4buLbmggZOG6oW5nDQogICAgIA0KICAgICAqLw0KICAgIHRleHRBbGlnbk9iamVjdChpbmRleCkgew0KICAgICAgbGV0IHR5cGVGb3JtYXQgPSB0aGlzLnRhYmxlSGVhZGVyc1tpbmRleF0udHlwZTsNCiAgICAgIHN3aXRjaCAodHlwZUZvcm1hdCkgew0KICAgICAgICBjYXNlICIwIjoNCiAgICAgICAgICByZXR1cm4gInRleHQtYWxpZ24tbGVmdCI7DQogICAgICAgIGNhc2UgIjEiOg0KICAgICAgICAgIHJldHVybiAidGV4dC1hbGlnbi1jZW50ZXIiOw0KICAgICAgICBjYXNlICIyIjoNCiAgICAgICAgICByZXR1cm4gInRleHQtYWxpZ24tcmlnaHQiOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHJldHVybiAiIjsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIHRow6ptIGhv4bq3YyBi4bubdCBjaOG7iSBz4buRIGPhu6dhIGjDoG5nIHbDoG8gdHJvbmcgZGFuaCBzw6FjaCBjw6FjIGjDoG5nIMSRxrDhu6NjIGNo4buNbg0KICAgICAqIEBwYXJhbSB7SW50fSBpbmRleCBjaOG7iSBz4buRIGPhu6dhIGjDoG5nIGNo4buNbg0KICAgICANCiAgICAgKi8NCiAgICBjaG9vc2VUYWJsZVJvdyhpbmRleCkgew0KICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmxpc3RTZWxlY3RlZFJvdy5pbmRleE9mKGluZGV4KTsNCiAgICAgIGlmIChwb3NpdGlvbiA9PSAtMSkgew0KICAgICAgICB0aGlzLmxpc3RTZWxlY3RlZFJvdy5wdXNoKGluZGV4KTsNCiAgICAgICAgdGhpcy5saXN0U2VsZWN0ZWRFbXBsb3llZXMucHVzaCh0aGlzLnRhYmxlQ29udGVudHNbaW5kZXhdKTsNCiAgICAgICAgDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmxpc3RTZWxlY3RlZFJvdy5zcGxpY2UocG9zaXRpb24sIDEpOw0KICAgICAgICB0aGlzLmxpc3RTZWxlY3RlZEVtcGxveWVlcy5zcGxpY2UodGhpcy50YWJsZUNvbnRlbnRzW2luZGV4XSwgMSk7DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBLaeG7g20gdHJhIHhlbSBpbmRleCDEkcOjIGPDsyB0cm9uZyBkYW5oIHPDoWNoIGjDoG5nIMSRxrDhu6NjIGNo4buNbiBjaMawYQ0KICAgICAqIEBwYXJhbSB7SW50fSBpbmRleCBpbmRleCBj4bunYSBow6BuZyDEkcaw4bujYyBjaOG7jW4NCiAgICAgKiByZXR1cm4ge2Jvb2xlYW59IMSRw7puZyBu4bq/dSDEkcOjIGPDsyB0cm9uZyDEkWFuaCBzw6FjaCwgc2FpIG7hur91IGNoxrBhIGNvDQogICAgIA0KICAgICAqLw0KICAgIGlzU2VsZWN0ZWRSb3coaW5kZXgpIHsNCiAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RlZFJvdy5pbmNsdWRlcyhpbmRleCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBM4bqleSBnacOhIHRy4buLIGPhu6dhIMO0IHRyb25nIHRhYmxlIHbDoCDEkeG7i25oIGThuqFuZyB0aGVvIGNvbnZlbnRpb24gbmfDoHksIHRp4buBbiBsxrDGoW5nDQogICAgICogQHBhcmFtIHtPYmplY3R9IHRhYmxlQ29udGVudCA6IGNo4bupYSB0aMO0bmcgdGluIGFwaSB0cuG6oyB24buBDQogICAgICogQHBhcmFtIHtPYmplY3R9IHRhYmxlSGVhZGVyOiBjaOG7qWEgdGjDtG5nIHRpbiAgSGVhZGVyIGPhu6dhIGLhuqNuZw0KICAgICAqIHJldHVybiBjaHXhu5dpIGNo4bupYSBnacOhIHRy4buLIMSRxrDhu6NjIMSR4buVIGzDqm4gYuG6o25nIHRoZW8gxJHDum5nIMSR4buLbmggZOG6oW5nDQogICAgIA0KICAgICAqLw0KICAgIGZvcm1hdFRhYmxlQ29udGVudCh0YWJsZUNvbnRlbnQsIHRhYmxlSGVhZGVyKSB7DQogICAgICBsZXQgY2VsbERhdGEgPSB0YWJsZUNvbnRlbnRbT2JqZWN0LmtleXModGFibGVIZWFkZXIpWzBdXTsNCg0KICAgICAgDQogICAgICBsZXQgdHlwZUZvcm1hdCA9IE9iamVjdC52YWx1ZXModGFibGVIZWFkZXIpWzFdOw0KICAgICAgaWYgKHR5cGVGb3JtYXQgPT09ICIxIikgew0KICAgICAgICAvLyDEkeG7i25oIGThuqFuZyBuZ8OgeQ0KICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXRlKGNlbGxEYXRhLCAiLyIpOw0KICAgICAgfQ0KICAgICAgaWYgKHR5cGVGb3JtYXQgPT09ICIyIikgew0KICAgICAgICAvLyDEkeG7i25oIGThuqFuZyB0aeG7gW4gbMawxqFuZw0KICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRNb25leShjZWxsRGF0YSk7DQogICAgICB9DQogICAgICByZXR1cm4gY2VsbERhdGE7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["BaseTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseTable.vue","sourceRoot":"src/components/base","sourcesContent":["<template>\r\n  <div class=\"wrapper-data\">\r\n    <div class=\"grid\" id=\"grid\">\r\n      <table style=\"cursor:poiter; user-select:none\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>#</th>\r\n            <th v-for=\"(tableHeader, index) in tableHeaders\" :key=\"index\">\r\n              {{ Object.values(tableHeader)[0] }}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody >\r\n          <tr\r\n            v-for=\"(tableContent, index) in tableContents\"\r\n            :key=\"tableContent.EmployeeId\"\r\n            @click=\"oneClick(index)\"\r\n            :class=\"{ 'row--selected': isSelectedRow(index) }\"\r\n          >\r\n            <td>\r\n              <div\r\n                class=\"checkbox\"\r\n                :class=\"{ 'checkbox--active': isSelectedRow(index) }\"\r\n              >\r\n                <i class=\"fas fa-check\"></i>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              {{ index + 1 }}\r\n            </td>\r\n            <td\r\n              v-for=\"(tableHeader, index) in tableHeaders\"\r\n              :key=\"index\"\r\n              :class=\"textAlignObject(index)\"\r\n            >\r\n              {{ formatTableContent(tableContent, tableHeader) }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../../css/common/employee-table.css\");\r\n</style>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport CommonMethods from \"../../mixins/CommonMethods.js\";\r\nimport { eventBus } from \"../../main.js\";\r\nexport default {\r\n  name: \"BaseTable\",\r\n  mixins: [CommonMethods],\r\n  props: {\r\n    urlAPI: String,\r\n    tableHeaders: Array,\r\n  },\r\n  mounted() {\r\n    var vm = this;\r\n    axios\r\n      .get(this.urlAPI)\r\n      .then((response) => (vm.tableContents = response.data))\r\n      .catch((response) => console.log(response));\r\n  },\r\n  data() {\r\n    return {\r\n      tableContents: [],\r\n      isActive: false,\r\n      listSelectedRow: [],\r\n      listSelectedEmployees: [],\r\n      delay: 300,\r\n      clicks: 0,\r\n      timer: null,\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * xác định xem người dùng click hay double click vào đòng trên bảng\r\n     *@param {Int} index: chỉ sổ của dòng trong bảng\r\n     \r\n     */\r\n    oneClick(index) {\r\n      var self = this;\r\n      this.clicks++;\r\n      if (this.clicks === 1) {\r\n        this.timer = setTimeout(function () {\r\n          self.chooseTableRow(index);\r\n          eventBus.$emit(\"showSelectedEmployees\", self.listSelectedEmployees);\r\n          self.clicks = 0;\r\n        }, this.delay);\r\n      } else {\r\n        clearTimeout(this.timer);\r\n        this.clicks = 0;\r\n        //show form staff\r\n        self.editEmployee( self.tableContents[index]);\r\n        \r\n      }\r\n    },\r\n    /**\r\n     * @param {}  self: component hiện tại\r\n     * @param {Object} employeeData chứa dữ liệu nhân viên\r\n     */\r\n    editEmployee( employeeData) {\r\n      this.$emit(\"editEmployee\", employeeData);\r\n    },\r\n    /**\r\n     * định dạng dữ liệu trong ô của table bên trái, giữa hay phải\r\n     *  @param {Int} index : chỉ số ứng với header của table\r\n     *  return chuỗi class định dạng\r\n     \r\n     */\r\n    textAlignObject(index) {\r\n      let typeFormat = this.tableHeaders[index].type;\r\n      switch (typeFormat) {\r\n        case \"0\":\r\n          return \"text-align-left\";\r\n        case \"1\":\r\n          return \"text-align-center\";\r\n        case \"2\":\r\n          return \"text-align-right\";\r\n        default:\r\n          return \"\";\r\n      }\r\n    },\r\n    /**\r\n     * thêm hoặc bớt chỉ số của hàng vào trong danh sách các hàng được chọn\r\n     * @param {Int} index chỉ số của hàng chọn\r\n     \r\n     */\r\n    chooseTableRow(index) {\r\n      const position = this.listSelectedRow.indexOf(index);\r\n      if (position == -1) {\r\n        this.listSelectedRow.push(index);\r\n        this.listSelectedEmployees.push(this.tableContents[index]);\r\n        \r\n      } else {\r\n        this.listSelectedRow.splice(position, 1);\r\n        this.listSelectedEmployees.splice(this.tableContents[index], 1);\r\n      }\r\n    },\r\n    /**\r\n     * Kiểm tra xem index đã có trong danh sách hàng được chọn chưa\r\n     * @param {Int} index index của hàng được chọn\r\n     * return {boolean} đúng nếu đã có trong đanh sách, sai nếu chưa co\r\n     \r\n     */\r\n    isSelectedRow(index) {\r\n      return this.listSelectedRow.includes(index);\r\n    },\r\n    /**\r\n     * Lấy giá trị của ô trong table và định dạng theo convention ngày, tiền lương\r\n     * @param {Object} tableContent : chứa thông tin api trả về\r\n     * @param {Object} tableHeader: chứa thông tin  Header của bảng\r\n     * return chuỗi chứa giá trị được đổ lên bảng theo đúng định dạng\r\n     \r\n     */\r\n    formatTableContent(tableContent, tableHeader) {\r\n      let cellData = tableContent[Object.keys(tableHeader)[0]];\r\n\r\n      \r\n      let typeFormat = Object.values(tableHeader)[1];\r\n      if (typeFormat === \"1\") {\r\n        // định dạng ngày\r\n        return this.formatDate(cellData, \"/\");\r\n      }\r\n      if (typeFormat === \"2\") {\r\n        // định dạng tiền lương\r\n        return this.formatMoney(cellData);\r\n      }\r\n      return cellData;\r\n    },\r\n  },\r\n};\r\n</script>"]}]}